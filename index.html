<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8"><title>Child Iframe</title></head>
<body>
  <h2>Child Iframe</h2>
  <button id="replyBtn">Reply to Parent</button>

  <script>
    // listen for parent messages
    window.addEventListener("message", (event) => {
      const { type, payload } = event.data || {};
      if (type === "greeting") {
        console.log("Child received greeting:", payload);
        alert("Child got greeting: " + payload.text);
      }
    });

    // reply back to parent
    document.getElementById("replyBtn").addEventListener("click", () => {
      window.parent.postMessage(
        { type: "reply", payload: { text: "Hello from Child!" } },
        "*"
      );
    });
  </script>
</body>
</html>
